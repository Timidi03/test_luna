# REST API для справочника Организаций, Зданий и Деятельностей

## Описание

Данный проект реализует REST API для работы со справочником организаций.
API позволяет:

- Искать организации по названию, зданию или виду деятельности
- Искать организации с учетом дерева деятельности
- Искать организации в радиусе или в прямоугольной области на карте
- Получать информацию об организации по её идентификатору

Все ответы возвращаются в формате JSON.  
API защищено статическим API-ключом

---

## Технологии

- Python 3.12
- FastAPI
- Pydantic
- SQLAlchemy + Async
- Alembic (миграции)
- PostgreSQL
- Docker & Docker Compose
- Swagger UI / Redoc (документация)

---

## Установка и запуск

### 1. Клонируем репозиторий

```bash
git clone https://github.com/Timidi03/test_luna.git
cd test_luna
```
### 2. Запускаем проект 

```bash
docker compose up --build
```
Если проект не может запустится из-за различной архитектуры, попробуйте в файле `docker-compose.yaml` в обоих сервисах
удалить строку `platform: linux/amd64`

Первый (холодный) запуск может не поднять поднять сервис приложения (ошибка подключения к БД). Решение - переподнятие контейнера приложения

---

# Комментарии
1. Была не понята формулировка из функционального задания: "ограничить уровень вложенности деятельностей 3 
уровням". В связи с чем данный эндпоинт не был реализован.
2. Скрип для заполения БД находится в файле `init_db.sql`
3. Заполнение базы происходит автоматически при поднятии контейнера приложения
4. Проект прогнан через isort + black + flake8
5. Unit тестирование не проводилось ввиду отсутствие данного пунка в ТЗ
